<div class="container">
    <section class="product">
        <div class="image">
            <h2>{{product.name}}</h2>
            <img [src]="product.image_url" [alt]="product.name">
        </div>
        <div class="data">
            <h3>{{product.description}}</h3>
            <h2>{{product.price | currency:'COP'}}</h2>
            <hr>
            <div style="margin-top: 40px;">
                <h5>Vendido por:</h5>
                <h4>{{store.name}}</h4>
                @if (store.score > 0) {
                <h3>{{getScore(store.score)}}</h3>
                }
            </div>
        </div>
    </section>

    <section class="store-product-list">
        <h2>Otros productos de {{store.name}}:</h2>
        <div class="card-container">
            <!-- @let products = productList; -->
            @for (item of productList(); track item.id) {
            @defer (on viewport) {
            <div class="card">
                <h2>{{item.name ? item.name : 'Producto'}}</h2>
                @if(item.image_url){
                <img [ngSrc]="item.image_url" [alt]="item.name" width="100" height="100" priority>
                }@else {
                <div class="imageEmpty"></div>
                }
                <h3>{{item.price ? item.price : 'Agotado'}}</h3>
                <button appearance="primary" tuiButton (click)="goToDetail(item.id)">Detalle</button>
            </div>
            }@placeholder {
            <div class="card">Sin cargar</div>
            }

            }
        </div>
    </section>
</div>