<div class="container">
  <section class="filters">
    <input type="text" placeholder="Buscar" (keyup)="filterProduct($event)">

    <div class="priceFiltr">
      <fieldset class="price-range-slider">
        <div class="price-wrap">
          <div class="price-wrap-1">
            <label for="price-min">$</label>
            <input disabled tabindex="-1" id="price-min" [value]="lower()">
          </div>
          <div class="price-wrap-2">
            <label for="price-max">$</label>
            <input disabled tabindex="-1" id="price-max" [value]="upper()">
          </div>
        </div>

        <div class="price-field">
          <input type="range"
                 [min]="min()" [max]="max()"
                 [value]="lower()" id="lower"
                 (input)="lower.set($any($event.target).value); applyFilters()">

          <input type="range"
                 [min]="min()" [max]="max()"
                 [value]="upper()" id="upper"
                 (input)="upper.set($any($event.target).value); applyFilters()">
        </div>
      </fieldset>
    </div>
  </section>

  <section class="productList">
    <div class="card-container">
      @let productListFilteredAux = filteredProducts();
      @if (productListFilteredAux.length > 0) {
        @for (item of productListFilteredAux; track item.id) {
          <div class="card">
            <h2>{{item.name ? item.name : 'Producto'}}</h2>

            @if(item.image_url){
              <img [ngSrc]="item.image_url" [alt]="item.name" width="100" height="100" priority>
            }@else {
              <div class="imageEmpty"></div>
            }

            <h3>{{item.price ? item.price : 'Agotado'}}</h3>
            <button appearance="primary" tuiButton (click)="goToDetail(item.id)">Detalle</button>
          </div>
        }
      }@else {
        <div class="noContent">
          No hay productos disponibles
        </div>
      }
    </div>
  </section>
</div>
